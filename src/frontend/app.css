@import "tailwindcss";
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Outfit:wght@400;500;600;700;800&display=swap');

@plugin "daisyui" {
  themes: light --default, dark --prefersdark, sunset, nord, abyss;
}

@theme {
  --breakpoint-xs: 375px;
}

/* ============================================
   MIGRU DESIGN SYSTEM
   Warm, Premium, Innovative
   ============================================ */

@layer base {
  :root {
    /* ============================================
       DESIGN TOKENS - UI Laws Foundation
       ============================================ */
    
    /* Typography Scale (1.25 ratio) */
    --text-mega: 3rem;        /* 48px - Hero */
    --text-h1: 2.25rem;       /* 36px - Page titles */
    --text-h2: 1.875rem;      /* 30px - Section titles */
    --text-h3: 1.5rem;        /* 24px - Card titles */
    --text-body: 1rem;        /* 16px - Default */
    --text-small: 0.875rem;   /* 14px - Secondary */
    --text-tiny: 0.75rem;     /* 12px - Labels */
    
    /* Font Weights */
    --weight-bold: 700;
    --weight-semibold: 600;
    --weight-medium: 500;
    --weight-regular: 400;
    --weight-light: 300;
    
    /* Spacing Scale (8pt grid) */
    --space-xs: 0.5rem;       /* 8px */
    --space-sm: 0.75rem;      /* 12px */
    --space-md: 1rem;         /* 16px */
    --space-lg: 1.5rem;       /* 24px */
    --space-xl: 2rem;         /* 32px */
    --space-2xl: 3rem;        /* 48px */
    --space-3xl: 4rem;        /* 64px */
    
    /* Border Radius */
    --radius-sm: 0.5rem;      /* 8px - chips */
    --radius-md: 1rem;        /* 16px - buttons */
    --radius-lg: 1.5rem;      /* 24px - cards */
    --radius-xl: 2rem;        /* 32px - panels */
    --radius-full: 9999px;    /* Pills */
    
    /* Shadows */
    --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
    --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    
    /* Warm Color Palette */
    --migru-coral: 15 85% 65%;
    --migru-amber: 35 95% 55%;
    --migru-sage: 140 30% 55%;
    --migru-lavender: 270 40% 70%;
    --migru-cream: 40 30% 96%;
    --migru-charcoal: 220 15% 20%;
    
    /* Risk Colors (Refined for Emotional Clarity) */
    --risk-low: 145 60% 50%;      /* Cooler green, less yellow */
    --risk-moderate: 30 90% 55%;  /* Warmer amber with orange shift */
    --risk-high: 350 70% 55%;     /* Deep rose, less jarring than pure red */
    
    /* Glow Colors */
    --glow-warm: rgba(251, 146, 60, 0.4);
    --glow-coral: rgba(248, 113, 113, 0.4);
    --glow-sage: rgba(134, 239, 172, 0.35);
    --glow-lavender: rgba(196, 181, 253, 0.4);
    --glow-low: rgba(52, 211, 153, 0.4);
    --glow-moderate: rgba(251, 146, 60, 0.4);
    --glow-high: rgba(244, 114, 132, 0.4);
    
    /* Gradient Stops */
    --gradient-warm-start: #fef3c7;
    --gradient-warm-mid: #fed7aa;
    --gradient-warm-end: #fecaca;
    
    /* Animation Timing */
    --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
    --ease-out-back: cubic-bezier(0.34, 1.56, 0.64, 1);
    --spring: cubic-bezier(0.175, 0.885, 0.32, 1.275);
  }
  
  html {
    scroll-behavior: smooth;
    -webkit-tap-highlight-color: transparent;
  }
  
  body {
    min-height: 100dvh;
    font-family: 'Inter', system-ui, sans-serif;
    @apply bg-base-100 text-base-content antialiased;
  }
  
  /* Typography Hierarchy */
  h1 {
    font-family: 'Outfit', system-ui, sans-serif;
    font-size: var(--text-h1);
    font-weight: var(--weight-bold);
    line-height: 1.2;
    letter-spacing: -0.02em;
  }
  
  h2 {
    font-family: 'Outfit', system-ui, sans-serif;
    font-size: var(--text-h2);
    font-weight: var(--weight-bold);
    line-height: 1.3;
    letter-spacing: -0.01em;
  }
  
  h3 {
    font-family: 'Outfit', system-ui, sans-serif;
    font-size: var(--text-h3);
    font-weight: var(--weight-semibold);
    line-height: 1.4;
  }
  
  h4, h5, h6 {
    font-family: 'Outfit', system-ui, sans-serif;
    font-weight: var(--weight-semibold);
  }
  
  body, p {
    font-size: var(--text-body);
    line-height: 1.625; /* Improved readability */
  }
  
  /* Selection */
  ::selection {
    @apply bg-primary/30 text-primary-content;
  }
}

/* ============================================
   ANIMATIONS
   ============================================ */

@layer base {
  /* Breathing - calming pulse effect */
  @keyframes breathe {
    0%, 100% { 
      transform: scale(1); 
      opacity: 0.3; 
    }
    50% { 
      transform: scale(1.08); 
      opacity: 0.6; 
    }
  }
  
  /* Ripple - expanding circle */
  @keyframes ripple {
    0% { 
      transform: scale(0.8); 
      opacity: 0.6; 
    }
    100% { 
      transform: scale(2); 
      opacity: 0; 
    }
  }
  
  /* Float - gentle vertical movement */
  @keyframes float {
    0%, 100% { 
      transform: translateY(0); 
    }
    50% { 
      transform: translateY(-8px); 
    }
  }
  
  /* Shimmer - light sweep effect */
  @keyframes shimmer {
    0% { 
      background-position: -200% center; 
    }
    100% { 
      background-position: 200% center; 
    }
  }
  
  /* Pulse soft - subtle scale */
  @keyframes pulse-soft {
    0%, 100% { 
      transform: scale(1); 
      opacity: 1; 
    }
    50% { 
      transform: scale(1.02); 
      opacity: 0.9; 
    }
  }
  
  /* Slide up - entrance animation */
  @keyframes slide-up {
    0% { 
      opacity: 0; 
      transform: translateY(20px); 
    }
    100% { 
      opacity: 1; 
      transform: translateY(0); 
    }
  }
  
  /* Scale in - pop entrance */
  @keyframes scale-in {
    0% { 
      opacity: 0; 
      transform: scale(0.9); 
    }
    100% { 
      opacity: 1; 
      transform: scale(1); 
    }
  }
  
  /* Glow pulse */
  @keyframes glow-pulse {
    0%, 100% { 
      box-shadow: 0 0 20px var(--glow-warm); 
    }
    50% { 
      box-shadow: 0 0 35px var(--glow-warm), 0 0 50px var(--glow-warm); 
    }
  }
  
  /* Rotate glow - for decorative rings */
  @keyframes rotate-glow {
    0% { 
      transform: rotate(0deg); 
    }
    100% { 
      transform: rotate(360deg); 
    }
  }
  
  /* Mesh movement - for background patterns */
  @keyframes mesh-move {
    0%, 100% { 
      transform: translate(0, 0) scale(1); 
    }
    25% { 
      transform: translate(2%, 2%) scale(1.02); 
    }
    50% { 
      transform: translate(0, 4%) scale(1); 
    }
    75% { 
      transform: translate(-2%, 2%) scale(1.02); 
    }
  }
  
  /* Utility classes */
  .animate-breathe {
    animation: breathe 6s infinite ease-in-out;
  }
  
  .animate-ripple {
    animation: ripple 3s infinite ease-out;
  }
  
  .animate-ripple-delayed {
    animation: ripple 3s infinite ease-out;
    animation-delay: 1s;
  }
  
  .animate-float {
    animation: float 4s infinite ease-in-out;
  }
  
  .animate-shimmer {
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(255,255,255,0.4) 50%,
      transparent 100%
    );
    background-size: 200% 100%;
    animation: shimmer 2s infinite;
  }
  
  .animate-pulse-soft {
    animation: pulse-soft 3s infinite ease-in-out;
  }
  
  .animate-slide-up {
    animation: slide-up 0.5s var(--ease-out-expo) forwards;
  }
  
  .animate-scale-in {
    animation: scale-in 0.4s var(--ease-out-back) forwards;
  }
  
  .animate-glow-pulse {
    animation: glow-pulse 2s infinite ease-in-out;
  }
  
  .animate-mesh {
    animation: mesh-move 20s infinite ease-in-out;
  }
}

/* ============================================
   GLASSMORPHISM COMPONENTS
   ============================================ */

@layer components {
  /* Standard glass panel */
  .glass-panel {
    @apply bg-base-100/60 backdrop-blur-xl;
    border: 1px solid rgba(255, 255, 255, 0.12);
    box-shadow: 
      0 4px 30px rgba(0, 0, 0, 0.05),
      inset 0 1px 0 rgba(255, 255, 255, 0.1);
  }
  
  /* Warm tinted glass */
  .glass-warm {
    @apply backdrop-blur-xl;
    background: linear-gradient(
      135deg,
      rgba(254, 243, 199, 0.7) 0%,
      rgba(254, 215, 170, 0.5) 50%,
      rgba(254, 202, 202, 0.4) 100%
    );
    border: 1px solid rgba(251, 146, 60, 0.2);
    box-shadow: 
      0 8px 32px rgba(251, 146, 60, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 0.3);
  }
  
  /* Dark glass for contrast */
  .glass-dark {
    @apply backdrop-blur-xl;
    background: rgba(30, 30, 40, 0.75);
    border: 1px solid rgba(255, 255, 255, 0.08);
    box-shadow: 
      0 8px 32px rgba(0, 0, 0, 0.2),
      inset 0 1px 0 rgba(255, 255, 255, 0.05);
  }
  
  /* Frosted effect */
  /* Frosted effect */
  .glass-frosted {
    @apply backdrop-blur-xl bg-base-100/80;
    border-bottom: 1px solid var(--n, rgba(255, 255, 255, 0.1));
    box-shadow: 
      0 4px 24px -2px rgba(0, 0, 0, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 0.1);
  }
}

/* ============================================
   GRADIENT UTILITIES
   ============================================ */

@layer components {
  /* Warm gradient backgrounds */
  .gradient-warm {
    background: linear-gradient(
      135deg,
      var(--gradient-warm-start) 0%,
      var(--gradient-warm-mid) 50%,
      var(--gradient-warm-end) 100%
    );
  }
  
  /* Gradient with glow effect */
  .gradient-glow {
    background: radial-gradient(
      ellipse at 50% 0%,
      rgba(251, 146, 60, 0.15) 0%,
      transparent 60%
    );
  }
  
  /* Mesh gradient for backgrounds */
  .gradient-mesh {
    background: 
      radial-gradient(at 20% 20%, rgba(254, 215, 170, 0.4) 0%, transparent 50%),
      radial-gradient(at 80% 20%, rgba(254, 202, 202, 0.3) 0%, transparent 50%),
      radial-gradient(at 50% 80%, rgba(196, 181, 253, 0.25) 0%, transparent 50%),
      radial-gradient(at 80% 80%, rgba(134, 239, 172, 0.2) 0%, transparent 50%);
  }
  
  /* Gradient text */
  .gradient-text {
    @apply bg-clip-text text-transparent;
    background-image: linear-gradient(
      135deg,
      hsl(var(--migru-coral)) 0%,
      hsl(var(--migru-amber)) 50%,
      hsl(var(--migru-coral)) 100%
    );
  }
  
  /* Risk level gradients */
  .gradient-risk-low {
    background: linear-gradient(
      135deg,
      rgba(134, 239, 172, 0.2) 0%,
      rgba(74, 222, 128, 0.1) 100%
    );
  }
  
  .gradient-risk-moderate {
    background: linear-gradient(
      135deg,
      rgba(251, 191, 36, 0.2) 0%,
      rgba(245, 158, 11, 0.1) 100%
    );
  }
  
  .gradient-risk-high {
    background: linear-gradient(
      135deg,
      rgba(248, 113, 113, 0.2) 0%,
      rgba(239, 68, 68, 0.1) 100%
    );
  }
  
  /* ============================================
     GEMINI-INSPIRED AURA SYSTEM
     ============================================ */
  
  /* Animated orb aura - focal point gradient */
  .orb-aura {
    @apply relative;
    
    &::before {
      content: '';
      @apply absolute inset-0 rounded-full;
      background: conic-gradient(
        from 0deg,
        hsl(var(--migru-coral)) 0%,
        hsl(var(--migru-amber)) 25%,
        hsl(var(--migru-lavender)) 50%,
        hsl(var(--migru-sage)) 75%,
        hsl(var(--migru-coral)) 100%
      );
      filter: blur(40px);
      opacity: 0.4;
      animation: spectrum-shift 8s linear infinite;
    }
  }
  
  /* Spectrum shift animation for aura */
  @keyframes spectrum-shift {
    0% { transform: rotate(0deg) scale(1); }
    50% { transform: rotate(180deg) scale(1.1); }
    100% { transform: rotate(360deg) scale(1); }
  }
  
  /* Orb glow - pulsing focal element */
  .orb-glow {
    @apply relative rounded-full;
    background: radial-gradient(
      circle at 30% 30%,
      rgba(255, 255, 255, 0.4) 0%,
      transparent 50%
    ),
    linear-gradient(
      135deg,
      hsl(var(--migru-coral)) 0%,
      hsl(var(--migru-amber)) 50%,
      hsl(var(--migru-lavender)) 100%
    );
    box-shadow: 
      0 0 30px var(--glow-warm),
      0 0 60px var(--glow-coral),
      inset 0 0 30px rgba(255, 255, 255, 0.2);
    animation: orb-pulse 4s ease-in-out infinite;
  }
  
  @keyframes orb-pulse {
    0%, 100% { 
      transform: scale(1);
      box-shadow: 
        0 0 30px var(--glow-warm),
        0 0 60px var(--glow-coral),
        inset 0 0 30px rgba(255, 255, 255, 0.2);
    }
    50% { 
      transform: scale(1.05);
      box-shadow: 
        0 0 50px var(--glow-warm),
        0 0 80px var(--glow-coral),
        inset 0 0 40px rgba(255, 255, 255, 0.3);
    }
  }
  
  /* Ethereal glass - softer than standard */
  .glass-ethereal {
    @apply backdrop-blur-2xl;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.08);
    box-shadow: 
      0 8px 32px rgba(0, 0, 0, 0.04),
      inset 0 1px 0 rgba(255, 255, 255, 0.1);
  }
  
  /* Risk orb variants */
  .orb-risk-low {
    background: radial-gradient(
      circle at 30% 30%,
      rgba(255, 255, 255, 0.4) 0%,
      transparent 50%
    ),
    linear-gradient(135deg, #86efac 0%, #4ade80 100%);
    box-shadow: 0 0 40px rgba(134, 239, 172, 0.5);
  }
  
  .orb-risk-moderate {
    background: radial-gradient(
      circle at 30% 30%,
      rgba(255, 255, 255, 0.4) 0%,
      transparent 50%
    ),
    linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
    box-shadow: 0 0 40px rgba(251, 191, 36, 0.5);
  }
  
  .orb-risk-high {
    background: radial-gradient(
      circle at 30% 30%,
      rgba(255, 255, 255, 0.4) 0%,
      transparent 50%
    ),
    linear-gradient(135deg, #f87171 0%, #ef4444 100%);
    box-shadow: 0 0 40px rgba(248, 113, 113, 0.5);
  }
}

/* ============================================
   SHADOW UTILITIES
   ============================================ */

@layer components {
  /* Glow shadows */
  .shadow-glow-warm {
    box-shadow: 0 8px 40px var(--glow-warm);
  }
  
  .shadow-glow-coral {
    box-shadow: 0 8px 40px var(--glow-coral);
  }
  
  .shadow-glow-sage {
    box-shadow: 0 8px 40px var(--glow-sage);
  }
  
  .shadow-glow-lavender {
    box-shadow: 0 8px 40px var(--glow-lavender);
  }
  
  /* Elevated card shadow */
  .shadow-elevated {
    box-shadow: 
      0 1px 2px rgba(0, 0, 0, 0.04),
      0 4px 8px rgba(0, 0, 0, 0.04),
      0 16px 32px rgba(0, 0, 0, 0.04);
  }
  
  /* Lifted hover shadow */
  .shadow-lifted {
    box-shadow: 
      0 2px 4px rgba(0, 0, 0, 0.02),
      0 8px 16px rgba(0, 0, 0, 0.06),
      0 24px 48px rgba(0, 0, 0, 0.06);
  }
}

/* ============================================
   INTERACTIVE ELEMENTS
   ============================================ */

@layer components {
  /* Card with hover lift */
  .card-interactive {
    @apply transition-all duration-300;
    &:hover {
      transform: translateY(-4px);
      box-shadow: 
        0 2px 4px rgba(0, 0, 0, 0.02),
        0 8px 16px rgba(0, 0, 0, 0.06),
        0 24px 48px rgba(0, 0, 0, 0.06);
    }
  }
  
  /* Button with glow */
  .btn-glow {
    @apply relative overflow-hidden;
    &::before {
      content: '';
      @apply absolute inset-0 opacity-0 transition-opacity duration-300;
      background: radial-gradient(
        circle at center,
        rgba(255, 255, 255, 0.3) 0%,
        transparent 70%
      );
    }
    &:hover::before {
      @apply opacity-100;
    }
  }
  
  /* Icon container */
  .icon-box {
    @apply p-2.5 rounded-xl transition-all duration-300;
    &:hover {
      transform: scale(1.05);
    }
  }
  
  /* Nav item with glow */
  .nav-item-glow {
    @apply relative transition-all duration-300;
    &::before {
      content: '';
      @apply absolute inset-0 rounded-xl opacity-0 transition-opacity duration-300;
      background: var(--glow-warm);
      filter: blur(12px);
      z-index: -1;
    }
    &:hover::before {
      @apply opacity-60;
    }
  }
  
  /* Focus ring warm */
  .focus-ring-warm {
    &:focus-visible {
      @apply outline-none ring-2 ring-offset-2;
      ring-color: hsl(var(--migru-amber));
    }
  }
}

/* ============================================
   ENTRANCE ANIMATIONS
   ============================================ */

@layer utilities {
  /* Staggered animation delays */
  .delay-100 { animation-delay: 100ms; }
  .delay-200 { animation-delay: 200ms; }
  .delay-300 { animation-delay: 300ms; }
  .delay-400 { animation-delay: 400ms; }
  .delay-500 { animation-delay: 500ms; }
  
  /* Initial hidden state for animated elements */
  .animate-on-enter {
    opacity: 0;
    transform: translateY(20px);
  }
  
  .animate-on-enter.visible {
    animation: slide-up 0.6s var(--ease-out-expo) forwards;
  }
}

/* ============================================
   DARK MODE ADJUSTMENTS
   ============================================ */

@media (prefers-color-scheme: dark) {
  :root {
    --gradient-warm-start: rgba(251, 146, 60, 0.15);
    --gradient-warm-mid: rgba(234, 88, 12, 0.1);
    --gradient-warm-end: rgba(239, 68, 68, 0.1);
  }
  
  .glass-warm {
    background: linear-gradient(
      135deg,
      rgba(251, 146, 60, 0.15) 0%,
      rgba(234, 88, 12, 0.1) 50%,
      rgba(239, 68, 68, 0.08) 100%
    );
    border-color: rgba(251, 146, 60, 0.15);
  }
  
  .glass-frosted {
    background: rgba(30, 30, 40, 0.8);
    border-color: rgba(255, 255, 255, 0.1);
  }
}

/* ============================================
   SPECIAL EFFECTS
   ============================================ */

@layer components {
  /* Ambient background container */
  .ambient-bg {
    @apply fixed inset-0 -z-10 overflow-hidden;
    background: linear-gradient(to bottom right, hsl(var(--b1)), hsl(var(--b2, var(--b1))));
  }
  
  .ambient-bg::before {
    content: '';
    @apply absolute inset-0;
    background: 
      radial-gradient(at 20% 20%, rgba(254, 215, 170, 0.4) 0%, transparent 50%),
      radial-gradient(at 80% 20%, rgba(254, 202, 202, 0.3) 0%, transparent 50%),
      radial-gradient(at 50% 80%, rgba(196, 181, 253, 0.25) 0%, transparent 50%),
      radial-gradient(at 80% 80%, rgba(134, 239, 172, 0.2) 0%, transparent 50%);
    animation: mesh-move 20s infinite ease-in-out;
    opacity: 0.6;
  }
  
  /* Decorative orb */
  .orb {
    @apply absolute rounded-full;
    background: radial-gradient(
      circle at 30% 30%,
      rgba(255, 255, 255, 0.3) 0%,
      transparent 60%
    );
    filter: blur(1px);
  }
  
  /* Breathing circle for relief page */
  .breathing-circle {
    @apply relative flex items-center justify-center;
    
    &::before,
    &::after {
      content: '';
      @apply absolute rounded-full;
      border: 2px solid currentColor;
      opacity: 0.3;
    }
    
    &::before {
      @apply w-full h-full;
      animation: breathe 6s infinite ease-in-out;
    }
    
    &::after {
      @apply w-[130%] h-[130%];
      animation: breathe 6s infinite ease-in-out;
      animation-delay: 0.5s;
    }
  }
}